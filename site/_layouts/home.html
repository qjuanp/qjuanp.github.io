{% extends './base.html' %}

{% block preSection %}
{% include 'author.html' %}
{% endblock %}


{% block content %}
{% set postsCount = collections.posts | length %}
{% set latestPostsCount = postsCount | min(numberOfLatestPostsToShow) %}
<h3 class="posts-item-note" aria-label="Recent Posts">Latest {{ latestPostsCount }} Post{% if latestPostsCount != 1 %}s{% endif %}</h3>

{% set postslist = collections.posts | head(-1 * numberOfLatestPostsToShow) %}
{% set postslistCounter = postsCount %}

{% for post in postslist | reverse %}
    <article class="post-item">
        <span class="post-item-date">{{ post.date | readableDate("LLLL yyyy") }}</span>
        <h4 class="post-item-title">
            <a href="{{ post.url }}">{{ post.data.title | escape }}</a>
        </h4>
    </article>
{% endfor %}

{% set morePosts = postsCount - numberOfLatestPostsToShow %}
{% if morePosts > 0 %}
<p>{{ morePosts }} more post{% if morePosts != 1 %}s{% endif %} can be found in <a href="/blog/">the archive</a>.</p>
{% endif %}
{% endblock %}
